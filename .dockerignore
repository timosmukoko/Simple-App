# syntax=docker/dockerfile:1
FROM cimg/node:20.10

ENV NODE_ENV=production

# Upgrade npm to the required version
RUN npm install -g npm@11.2.0

# Copy package files and install dependencies
COPY ["package.json", "package-lock.json*", "./"]
RUN npm ci --only=production

COPY . .

CMD ["npm", "start"]

